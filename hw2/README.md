# 塔防遊戲

一個基於React TypeScript和HTML5 Canvas的塔防遊戲，包含11個不同的關卡，每關都有獨特的地圖設計和敵人配置。遊戲具有完整的造型系統、商店系統、塔防升級系統和Survival模式。

以往玩塔防遊戲，都沒有可以一直“開始下一波敵人”的功能，沒有一次看到一坨敵人出來、在一起死光光的情境，攻擊的塔也不能隨意蓋，只能在只掉的地點新增，所以在這個遊戲裡面時做了這幾個功能。除了可以依照自己的喜好隨意擺放攻擊塔（甚至可以在非常接近道路的地方），玩家也可以將擋道路的塔剷除；並且在倒數計時器尚未倒數完畢時，以 1:1 將剩餘秒數以金幣回饋給玩家。

此外，遊戲的背景都是我自己出去玩拍的，在其中幾個關卡有出現血量比較多的魔王，是根據背景的地點挑選的（但只有最後一關的有動態效果）。

關於攻擊塔、敵人的造型，因為球圓圓的很可愛，所以我決定以圓形為主，只更改了 boss 的造型，以及商店中購買的新的、具有功能的塔有造型。

由於第十關的 boss 造型、Survival 模式比較特別，若玩家不想一關一關玩上去，可以透過金幣解鎖。

## 遊戲特色

- 🎮 **11個獨特關卡**：每關都有獨特背景，是我自己出去玩拍的照片歐！
- 🏗️ **3種塔防類型**：基礎塔(黃色)、快速塔(紫色)、重型塔(紅色)，可以在商店購買具有功能的不同造型，也可以在遊戲進行中升級。
- 🔨 **鏟子功能**：移除塔防。
- 👾 **多種敵人**：基礎、快速、坦克、Boss 敵人
- 🛒 **商店系統**：購買造型，永久擁有，提供屬性加成
- 🏆 **Survival模式**：無限波次，敵人逐漸增強。
- 🎵 **音效系統**：射擊、擊中、敵人死亡等音效。
- 🎨 **視覺效果**：粒子效果、背景圖片、Boss 動畫。

## 遊戲玩法

### 基本規則
- 每關有5條生命值
- 怪物沿著道路移動到終點（從左到右）
- 每個到達終點的怪物會減少 1 條生命
- 擊殺怪物獲得金幣，用金幣建造塔防
- 完成所有波次即可通關

### 塔防類型
1. **基礎塔** (20金幣) - 黃色
   - 傷害：20
   - 射程：80
   - 射速：1秒
   - 平衡型塔防，適合新手

2. **快速塔** (40金幣) - 紫色
   - 傷害：10
   - 射程：50
   - 射速：0.3秒
   - 高射速，適合清理小兵

3. **重型塔** (70金幣) - 紅色
   - 傷害：80
   - 射程：120
   - 射速：2秒
   - 高傷害，適合對付坦克敵人

### 塔防升級系統
- **第一級**：10 金幣，可選擇攻擊力 +5 或攻擊速度 +5
- **第二級**：10 金幣，可選擇攻擊力 +5 或攻擊速度 +5
- **第三級**：15 金幣，攻擊力 +5、攻擊速度 +5、射程 +5（最高級）
- 每次升級塔防顏色會變深 10%
- 升級等級會顯示在塔防上

### 鏟子功能
- 點擊鏟子按鈕切換鏟子模式
- 在鏟子模式下點擊塔防可移除
- 移除塔防獲得原費用一半的金幣回饋

### 敵人類型
1. **紅色敵人** (基礎) - 1 金幣，10 分
   - 生命值：70
   - 速度：中等
   - 最常見的敵人

2. **黃色敵人** (快速) - 3 金幣，30 分
   - 生命值：50
   - 速度：快
   - 移動速度快，血量較少

3. **藍色敵人** (坦克) - 5 金幣，50 分
   - 生命值：300
   - 速度：慢
   - 高血量，需要重火力

4. **Boss敵人** - 10-50 金幣，100-500 分
   - 生命值：1000-10000
   - 速度：極慢
   - 特殊外觀，極高血量

## 操作說明

### 滑鼠操作
- 點擊塔防選項選擇要建造的塔防類型
- 在非道路上點擊放置塔防
- 點擊已放置的塔防進行升級
- 點擊鏟子按鈕切換鏟子模式
- 無法在道路上建造塔防

### 按鈕操作
- **開始波次**：開始下一波敵人攻擊（隨時都可以歐）
- **暫停**：暫停/繼續遊戲
- **快轉**：切換 1x/2x 遊戲速度
- **鏟子**：切換鏟子模式，移除塔防
- **下一關**：完成關卡後進入下一關

## 關卡設計

### 基礎關卡
- 每關 5 波次，有些關卡包含 Boss
- 獨特背景圖片，每關都有不同主題
- 逐步增加敵人難度和數量
- 包含叉路設計，敵人可隨機選擇路徑

### Survival 模式
- 無限波次，敵人逐漸增強
- 每3波敵人屬性提升
- 每波開始獲得 50 金幣
- 每 10 波出現 Boss 敵人
- 無計時器限制

## 商店系統

### 造型購買
- 使用商店金幣購買造型
- 商店金幣來源：關卡分數 ÷100
- 造型永久擁有，提供屬性加成

### 造型效果
- **三角形造型**：攻擊力 +5 到 +15
- **正方形造型**：射程 +12 到 +25
- **預設造型**：標準屬性，免費使用

## 檔案結構

```
hw2/
├── public/
│   └── index.html          # 主HTML文件
├── src/
│   ├── components/         # React組件
│   │   ├── GameCanvas.tsx
│   │   ├── GameUI.tsx
│   │   ├── StartScreen.tsx
│   │   └── ...
│   ├── types/              # TypeScript類型定義
│   │   └── game.ts
│   ├── App.tsx             # 主應用組件
│   ├── App.css             # 樣式文件
│   └── index.tsx           # 入口文件
├── package.json            # 依賴配置
├── tsconfig.json           # TypeScript配置
├── bg/                     # 背景圖片資料夾
│   ├── 1_大坡池.jpg
│   ├── 2_植物園.jpg
│   └── ...
├── boss/                   # Boss圖片資料夾
│   ├── 1.png
│   ├── 2.png
│   └── ...
└── README.md               # 說明文件
```

## 安裝與執行

### 從GitHub下載
1. 複製或下載此專案到本地
2. 確保所有檔案都在同一個資料夾中

### 執行方式

1. 下載專案檔案
2. 雙擊 `index.html` 檔案
3. 瀏覽器會自動開啟遊戲

### 系統需求
- **方法1（直接開啟）**：現代瀏覽器即可
- **方法2&3（React版本）**：
  - Node.js 14.0.0 或以上版本
  - npm 或 yarn 套件管理器
  - 現代瀏覽器（Chrome、Firefox、Safari、Edge）
  - 支援HTML5 Canvas
  - 支援JavaScript ES6+

## 開發說明

遊戲使用React TypeScript開發，包含以下主要組件和類別：
- `App`：主應用組件
- `GameCanvas`：遊戲畫布組件
- `GameUI`：遊戲界面組件
- `StartScreen`：開始畫面組件
- `Tower`：塔防類
- `Enemy`：敵人類
- `Bullet`：子彈類
- `Particle`：粒子效果類


## 技術特色

- **React TypeScript**：現代化的前端框架
- **純前端實現**：無需後端服務器
- **HTML5 Canvas**：流暢的2D圖形渲染
- **Web Audio API**：動態音效生成
- **組件化設計**：清晰的代碼結構
- **TypeScript**：類型安全的JavaScript
- **響應式布局**：適配不同設備
- **本地存儲**：進度自動保存
