# 塔防遊戲 - 設置指南

## 🚀 快速開始

### 方法1：使用npm（推薦）

1. **安裝依賴**
   ```bash
   npm install
   ```

2. **啟動遊戲**
   ```bash
   npm start
   ```
   或
   ```bash
   npm run game
   ```

3. **開發模式**（自動重新載入）
   ```bash
   npm run dev
   ```

### 方法2：直接開啟HTML文件

1. 直接雙擊 `index.html` 文件
2. 在瀏覽器中開啟

## 📋 可用的npm命令

| 命令 | 說明 | 端口 |
|------|------|------|
| `npm start` | 啟動遊戲（帶啟動畫面） | 3000 |
| `npm run game` | 直接啟動遊戲服務器 | 3000 |
| `npm run dev` | 開發模式（禁用緩存） | 3000 |
| `npm run serve` | 使用不同端口啟動 | 8080 |

## 🔧 系統要求

- **Node.js**: 版本 14.0.0 或更高
- **npm**: 版本 6.0.0 或更高
- **瀏覽器**: 支援HTML5 Canvas的現代瀏覽器

## 🛠️ 故障排除

### 問題1：npm install 失敗
```bash
# 清除npm緩存
npm cache clean --force

# 刪除node_modules並重新安裝
rm -rf node_modules package-lock.json
npm install
```

### 問題2：端口被佔用
```bash
# 使用不同端口
npm run serve  # 使用端口8080
```

### 問題3：權限問題（Windows）
```bash
# 以管理員身份運行命令提示符
# 或使用PowerShell
```

### 問題4：音效無法播放
- 確保瀏覽器允許音效播放
- 某些瀏覽器需要用戶交互後才能播放音效
- 嘗試點擊遊戲畫面後再開始遊戲

## 🌐 瀏覽器支援

| 瀏覽器 | 版本 | 支援狀態 |
|--------|------|----------|
| Chrome | 60+ | ✅ 完全支援 |
| Firefox | 55+ | ✅ 完全支援 |
| Safari | 12+ | ✅ 完全支援 |
| Edge | 79+ | ✅ 完全支援 |

## 📁 項目結構

```
hw2/
├── index.html          # 主HTML文件
├── style.css          # 樣式文件
├── game.js           # 遊戲邏輯
├── package.json      # npm配置
├── start.js          # 啟動腳本
├── .gitignore        # Git忽略文件
├── README.md         # 遊戲說明
└── SETUP.md          # 設置指南
```

## 🎮 遊戲控制

### 滑鼠操作
- 點擊塔防選項選擇要建造的塔防
- 在草地上點擊放置塔防
- 無法在道路上建造塔防

### 鍵盤操作
- `空白鍵`: 暫停/繼續遊戲
- `R鍵`: 重新開始遊戲

### 按鈕操作
- **開始波次**: 開始下一波敵人攻擊
- **暫停**: 暫停/繼續遊戲
- **下一關**: 完成關卡後進入下一關

## 🔄 開發模式

開發模式會禁用瀏覽器緩存，確保修改後能立即看到效果：

```bash
npm run dev
```

## 📦 部署

這個遊戲是純前端應用，可以部署到任何靜態文件託管服務：

- **GitHub Pages**
- **Netlify**
- **Vercel**
- **Firebase Hosting**

## 🆘 需要幫助？

如果遇到問題，請檢查：

1. Node.js和npm是否正確安裝
2. 端口3000是否被其他程序佔用
3. 瀏覽器是否支援HTML5 Canvas
4. 防火牆是否阻止了本地服務器

## 🎯 下一步

遊戲啟動後，你可以：

1. 選擇關卡開始遊戲
2. 建造塔防防禦敵人
3. 完成所有5個關卡
4. 享受遊戲樂趣！

祝你遊戲愉快！🎮
