# 欸米航空訂票系統 ✈️

## 作者的話

設計想法：因為每次訂機票 / 查機票價格都覺得航空公司的 UI 很難用，所以決定自己架一個（希望有比較好）。

### 關於搜尋介面

訂購分成來回、單程、多個航段，機場有按照地區分類，比較好找自己需要的地方。裡面有一些比較冷門的地方，但只要裡面選得到的，每天都至少有一班從臺灣飛、一班回臺灣的，不用再為了沒有飛機調整自己的行程計劃！
（航班都是亂掰的，價錢也是）

來回票預設的出發日期是今天，點選了一個日期會變成預設 今天 ~ 該日期，如果想要自己指定去回程日期，再點選一次，就會蓋掉前面的日期。

另外，來回跟單程底下有一個「通關密語」，只要 **訂票日其中一天是欸米生日**（有提示），輸入正確通關密語（欸米生日快樂！），就可以獲得 **免費機票**，不限艙等。輸入正確按下確定以後會自動跳轉進去。

喔然後臺北飛松山在跨年當天經濟艙免費，不用輸通關密語。商務艙跟頭等艙也有特價。

目前的班機只到明年 1/31。

## 航班搜尋結果

每個航班都可以選擇三種方案，不同的方案有不同的行李件數、更改機票規定、選位等，只有最貴的可以選座位。

這裡可以重新選擇日期，上面有參考票價，但他需要點選去程跟回程，兩個都選到並且按下確定才會重新搜尋。

飛機大小有根據航班調整，有大、小飛機，座位數量及座位佈局也有調整（預設都是 30% 滿），如果再訂購的時候，有加價升級到可以選座位的方案，可以注意一下！

機票我有調整價格，讓大家可以把飛機當公車搭（？

但聖誕節跟元旦前後因應需求量高，票價有上升。

### 購物車、付款與訂購紀錄頁面

會有所有選擇了但還沒付款的航班。

付款方式有三種，可以填也可以不填資料，直接按付款就會成功了。

訂購紀錄會有所有訂單，可以刪除，會跟旅遊地圖有關。

### 旅遊地圖

會有所有訂單的地點，代表去過的地方。底下也有統計資料。

以上是作者的話，下面有 cursor 同學根據他寫的東西提供的完整詳細說明。

---

以下是 cursor 的話

一個完整的航空訂票網站，使用 React + TypeScript 開發，包含航班搜尋、價格日曆、購物車、付款、訂單記錄和旅行地圖功能。

## 🚀 快速開始

```bash
# 1. 安裝
npm install

# 2. 啟動開發伺服器
npm run dev

# 3. 開啟瀏覽器
http://localhost:5174
```

---

## ✨ 核心功能

### 📋 訂票流程

1. **行程選擇** - 來回票 / 單程票 / 多個航段（最多4程）
2. **航班搜尋** - 選擇出發地、目的地、日期、艙等
3. **價格日曆** - 查看前後日期價格，點擊切換航班
4. **航班選擇** - 查看詳細資訊，加入購物車
5. **購物車管理** - 查看、刪除已選航班
6. **完成付款** - 多種付款方式
7. **訂單記錄** - 查看歷史訂單
8. **旅行地圖** - 視覺化展示去過的地方

---

## 🎯 特色功能

#### 搜尋
- **統一設計風格** - 所有票種使用相同的日曆組件
- **確認按鈕** - 選好日期後點擊確認才會套用
- **無價格顯示** - 簡潔清爽的日期選擇介面
- **多個航段支援** - 每個航段獨立選擇日期和艙等

#### 價格比較日曆
- **價格趨勢** - 一目了然查看各日期的價格差異
- **即時更新** - 選擇日期後航班列表立即更新
- **週末標示** - 紅色背景標示週末

### 🎨 設計特色

- **星宇航空風格** - 深藍色 + 金色配色
- **響應式設計** - 支援所有裝置
- **流暢動畫** - 平滑的過渡效果
- **現代化 UI** - 卡片式設計，清楚易懂

### 🗺️ 旅行地圖

- **互動式地圖** - 可縮放、拖動（參考 hw1 實現）
- **邊界限制** - 拖動到邊界會自動反彈
- **機場標記** - 🏳️ 旗幟標示訪問過的機場
- **統計資訊** - 顯示各洲國家數量

### 💳 付款系統

#### 支援付款方式
- **信用卡 / 金融卡**
  - 持卡人姓名
  - 卡號
  - 有效期限
  - 安全碼（CVV）
  - 帳單地址

- **ATM 轉帳**
  - 銀行代碼與帳號（自動顯示）
  - 轉帳金額（自動計算）
  - 轉帳後5碼
  - 轉帳日期

---

## 📊 航班資料

### CSV 檔案配置

**位置**: `public/flights.csv`

**航班數量**: 8,214 個航班
**日期範圍**: 2025-10-13 至 2026-01-31
**航線數**: 38 條（含去回程）

### 班機號碼系統

- **格式**: AM001 - AM076
- **規則**: 
  - 同一航線同一時段的班機，每天使用相同號碼
  - 來回班機號碼相差 1
  - 例如：臺北→東京 AM002，東京→臺北 AM001

### 飛機型號與座位

#### 亞洲航線（小飛機）
- **型號**: A321neo
- **座位**: 180 座
- **配置**: 頭等 9 座 (5%) / 商務 27 座 (15%) / 經濟 144 座 (80%)

#### 其他航線（大飛機）
- **型號**: A350-900
- **座位**: 300 座
- **配置**: 頭等 15 座 (5%) / 商務 45 座 (15%) / 經濟 240 座 (80%)

### 價格規則

- **平日**: 基礎價格
- **週末**: +2,000 元
- **聖誕節期間** (12/21-12/27): +3,000 元
- **新年期間** (12/30-1/3): +3,000 元

### 修改航班資料

編輯 `public/flights.csv`：

```csv
flightNumber,departure,destination,departureDate,departureTime,arrivalTime,duration,price_economy,price_business,price_first,aircraft,availableSeats
AM002,臺北 TPE,東京 NRT,2025-10-13,08:30,12:00,3h15m,10500,27000,47000,A321neo,180
```

---

## 🗺️ 支援航線

### 亞洲
- 🇯🇵 **日本**: 東京(NRT/HND)、大阪、福岡、名古屋
- 🇰🇷 **韓國**: 首爾
- 🇭🇰 **香港** / 🇲🇴 **澳門**
- 🇨🇳 **中國**: 上海、北京、廣州
- 🇸🇬 **新加坡** / 🇹🇭 **泰國**: 曼谷
- 🇵🇭 **菲律賓**: 馬尼拉
- 🇻🇳 **越南**: 胡志明市、河內

### 美洲
- 🇺🇸 **美國**: 洛杉磯、舊金山、西雅圖

### 歐洲
- 🇬🇧 **英國**: 倫敦

### 大洋洲
- 🇦🇺 **澳洲**: 雪梨

### 國內
- 臺北松山 (TSA) 短程航線

---

## 📊 技術棧

- **React 18** - 現代化 UI 框架
- **TypeScript** - 型別安全
- **React Router** - 頁面路由管理
- **Vite** - 極速建置工具
- **PapaParse** - CSV 資料解析
- **Leaflet** - 互動式地圖
- **LocalStorage** - 資料持久化

---

**版本**: v3.0.0  
**狀態**: ✅ 所有功能完成  
**開發伺服器**: 🟢 http://localhost:5174

