# 功能檢查清單

## ✅ 已實現的功能

### 1. 價格日曆 ✓
**位置：** 首頁搜尋航班後

**顯示條件：**
- ✅ 來回票或單程票（多程票不顯示）
- ✅ 已搜尋航班
- ✅ 有選擇日期

**功能：**
- ✅ 顯示前2天、後2天（共5天）
- ✅ 每天顯示價格（如 $8.5k）
- ✅ ‹ 按鈕往前一天
- ✅ › 按鈕往後一天
- ✅ 點擊日期卡片切換
- ✅ 選中日期金色高亮
- ✅ 週末紅色背景標示

**檔案：**
- `src/components/PriceCalendar.tsx`
- `src/styles/PriceCalendar.css`
- `src/pages/HomePage.tsx` (第6行import, 第211-219行使用)

---

### 2. 出發地/目的地選單對齊 ✓
**位置：** 首頁搜尋表單

**桌面版特性：**
- ✅ 選單最大寬度 280px
- ✅ 使用 `grid-template-columns: auto auto auto`
- ✅ `justify-content: center` 置中
- ✅ `align-items: center` 垂直對齊
- ✅ 三個元素在同一水平線

**手機版特性：**
- ✅ 選單堆疊顯示
- ✅ 寬度 100%
- ✅ 交換按鈕隱藏

**檔案：**
- `src/styles/SearchForm.css` (第74-79行)

---

### 3. 購物車加入修復 ✓
**問題：** 有時航班沒加入購物車

**修復：**
- ✅ 來回票：第一程保存，第二程時一起加入
- ✅ 多程票：每程保存，最後一起加入
- ✅ 單程票：直接加入
- ✅ 加入時顯示 Console 日誌

**測試方式：**
1. 打開瀏覽器 Console (F12)
2. 選擇航班
3. 應該看到：`Adding flight to cart: JX801`
4. 檢查購物車徽章數字增加

**檔案：**
- `src/App.tsx` (第42-48行)
- `src/pages/HomePage.tsx` (第94-142行)

---

## 🔍 快速檢查

### 檢查價格日曆是否顯示：

```bash
# 搜尋程式碼確認
grep -n "PriceCalendar" hw3/src/pages/HomePage.tsx
```

應該看到：
```
6:import PriceCalendar from '../components/PriceCalendar'
212:            <PriceCalendar
```

### 檢查選單樣式：

```bash
# 檢查 cities-row 樣式
grep -A 5 "\.cities-row" hw3/src/styles/SearchForm.css
```

應該看到：
```css
.cities-row {
  grid-template-columns: auto auto auto;
  gap: 1rem;
  justify-content: center;
  align-items: center;
}
```

---

## 🚀 重新啟動測試

### 步驟 1: 停止舊的開發伺服器
```bash
# 找到並停止 Port 5173
lsof -ti:5173 | xargs kill -9
```

### 步驟 2: 清除快取並重啟
```bash
cd hw3
rm -rf node_modules/.vite
npm run dev
```

### 步驟 3: 清除瀏覽器快取
1. 打開 http://localhost:5173
2. 按 Cmd+Shift+R (Mac) 或 Ctrl+Shift+R (Windows)
3. 強制重新載入頁面

---

## 📱 瀏覽器測試

### Chrome DevTools
```
1. 按 F12 打開開發者工具
2. 切換到 Console 標籤
3. 操作網站，觀察日誌輸出
4. 切換到 Elements 標籤檢查 CSS
```

### 響應式測試
```
1. F12 打開開發者工具
2. 點擊設備模式圖示（手機/平板圖示）
3. 切換不同裝置尺寸
4. 檢查排版是否正確
```

---

## ✅ 完整功能清單

### 搜尋頁面
- [x] 行程類型選擇（來回/單程/多程）
- [x] 出發地/目的地互斥選擇
- [x] 選單置中對齊（280px max-width）
- [x] 日期選擇與驗證
- [x] 多程最多4程
- [x] 動態新增/移除行程

### 價格日曆
- [x] 顯示前後2天價格
- [x] ‹ 往前一天按鈕
- [x] › 往後一天按鈕
- [x] 點擊日期切換
- [x] 週末標示
- [x] 選中日期高亮

### 航班選擇
- [x] 單程：直接加入
- [x] 來回：先去程後回程
- [x] 多程：逐一選擇
- [x] 顯示已選預覽
- [x] 可重新搜尋

### 購物車
- [x] 顯示所有航班
- [x] 刪除功能
- [x] 總金額計算
- [x] 數量徽章

### 付款
- [x] 信用卡表單（含帳單地址）
- [x] 金融卡表單（含帳單地址，無身分證）
- [x] ATM 轉帳表單
- [x] 動態切換欄位

### 訂單記錄
- [x] 顯示所有訂單
- [x] 刪除訂單功能
- [x] 確認對話框

### 旅行地圖
- [x] 深藍海洋背景
- [x] 綠色陸塊 + 粗邊框
- [x] 陰影與發光效果
- [x] 機場旗子標記
- [x] 各洲統計

---

## 🎯 如果還有問題

### 方案 1: 完全重啟
```bash
# 停止開發伺服器
lsof -ti:5173 | xargs kill -9

# 清除快取
cd hw3
rm -rf node_modules/.vite
rm -rf dist

# 重新啟動
npm run dev
```

### 方案 2: 清除瀏覽器資料
```
1. 打開瀏覽器設定
2. 清除快取和 Cookie
3. 或使用無痕模式測試
```

### 方案 3: 檢查 Console
```
F12 → Console 標籤
查看是否有錯誤訊息
```

---

**如果看到這些訊息，表示功能正常：**
- ✅ `Adding flight to cart: JX801` - 航班加入成功
- ✅ 價格日曆出現在搜尋結果上方
- ✅ 選單置中排列
- ✅ 旅行地圖陸塊明顯

**測試時間：2025/10/10**
**版本：v2.2.0**

