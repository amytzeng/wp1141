# 🧪 Echo 專案測試清單

## 📋 10 個核心測試點（必測，約 20 分鐘）

### 1. ✅ OAuth 登入
```
□ 訪問 http://localhost:3000
□ 自動跳轉到登入頁
□ 點擊「使用 Google 繼續」
□ Google 授權成功
□ 設定 userId（例如：amy123）
□ 成功進入首頁
```

### 2. ✅ Session 持久化
```
□ 關閉瀏覽器
□ 重新開啟
□ 訪問 http://localhost:3000
□ 自動登入，不需重新授權
```

### 3. ✅ 發文功能
```
□ 點擊側邊欄「發文」按鈕
□ 輸入文字
□ 測試 280 字符限制
□ 輸入：「Hello #test @amy https://google.com」
□ 確認字符計算正確（連結 23 字元，hashtag 和 mention 不計）
□ 點擊「發文」
□ 貼文出現在首頁
```

### 4. ✅ Inline 發文
```
□ 首頁頂部有發文框
□ 點擊發文框，自動展開
□ 顯示字符計數
□ 發文後自動收起
```

### 5. ✅ 按讚功能
```
□ 點擊愛心按鈕
□ 愛心變紅色並填滿
□ 數字 +1
□ 再次點擊取消
□ 愛心變回灰色
□ 數字 -1
□ 切換到其他頁面（個人主頁/發文者主頁）
□ 按讚狀態保持一致
```

### 6. ✅ 轉發功能
```
□ 找一篇別人的貼文
□ 點擊轉發按鈕（雙箭頭）
□ 按鈕變綠色，數字 +1
□ 前往自己的主頁
□ 該貼文的轉發按鈕也是綠色
□ 前往發文者的主頁
□ 該貼文的轉發按鈕也是綠色
□ 再次點擊取消轉發
□ 所有地方的按鈕都變回灰色
```

### 7. ✅ 不能轉發自己的貼文
```
□ 前往自己的主頁
□ 找到自己發的貼文（不是轉發的）
□ 轉發按鈕是灰色且半透明
□ 滑鼠懸停顯示「不能轉發自己的貼文」
□ 點擊無反應
```

### 8. ✅ 留言功能
```
□ 點擊任一貼文
□ 進入貼文詳情頁
□ 在底部輸入留言
□ 點擊「回覆」
□ 留言成功顯示
□ 留言數 +1
```

### 9. ✅ Recursive 留言
```
□ 在貼文詳情頁
□ 點擊任一留言
□ 進入該留言的獨立頁面（/comment/[id]）
□ 該留言顯示為主要內容
□ 可以看到對該留言的回覆
□ 可以回覆該留言
□ 點擊任一回覆
□ 進入下一層留言頁面
□ 可以持續遞迴
□ 每層都有左箭頭返回
```

### 10. ✅ Follow 系統
```
□ 搜尋或訪問其他使用者頁面
□ 點擊「關注」按鈕
□ 按鈕變成「正在關注」
□ 關注者數量 +1
□ 回到首頁，切換到「關注中」標籤
□ 看到該使用者的貼文
```

---

## 🔥 Pusher 即時更新測試（必測，約 10 分鐘）

### 準備環境
```
□ 開啟兩個不同的瀏覽器（Chrome + Safari）
  或一個正常 + 一個無痕模式
□ 瀏覽器 A：登入帳號 1（例如用 Google）
□ 瀏覽器 B：登入帳號 2（例如用 GitHub）
```

### 測試即時按讚
```
□ A 發表一篇貼文
□ B 刷新頁面，看到 A 的貼文
□ B 點擊按讚
□ A 的畫面**立即**看到愛心數從 0 變成 1（無需刷新）
□ A 也點擊按讚
□ B 的畫面**立即**看到愛心數從 1 變成 2
```

### 測試即時留言
```
□ B 進入 A 的貼文詳情頁
□ B 發表留言
□ A 進入該貼文詳情頁
□ A **立即**看到 B 的留言（無需刷新）
□ 留言數即時更新
```

### 測試新貼文通知
```
□ A 和 B 都在首頁
□ A 發表一篇新貼文
□ B 的首頁頂部**立即**出現藍色橫幅
□ 橫幅顯示「顯示 1 則新貼文」
□ B 點擊橫幅
□ 新貼文出現在列表頂部
```

---

## 🎯 進階測試（選測，約 15 分鐘）

### 個人頁面完整測試
```
□ 點擊「個人檔案」
□ 確認顯示：姓名、@userId、簡介、統計數字
□ 背景圖顯示正確
□ 頭像置中對齊背景圖底部
□ 點擊「編輯個人資料」
□ 修改姓名
□ 修改簡介（測試 160 字限制）
□ 上傳新頭貼
□ 上傳新背景圖
□ userId 不可編輯（灰色背景）
□ 儲存成功
□ 切換到 Posts 標籤
□ 看到自己的貼文和轉發的貼文
□ 轉發的貼文有「轉發了」標記
□ 切換到 Likes 標籤
□ 看到自己按讚的文章
```

### 查看他人頁面
```
□ 點擊任何 @mention
□ 進入該使用者頁面
□ 沒有「編輯個人資料」按鈕
□ 有「關注」或「正在關注」按鈕
□ 只有 Posts 標籤，沒有 Likes 標籤
□ 點擊關注
□ 按鈕變成「正在關注」
□ 關注者數量 +1
```

### 草稿功能
```
□ 點擊發文按鈕
□ 輸入一些內容
□ 點擊 X 按鈕
□ 出現確認對話框
□ 點擊「Save」
□ 草稿儲存
□ 再次點擊發文按鈕
□ 點擊「Drafts」
□ 看到剛才的草稿
□ 點擊草稿，內容恢復
□ 繼續編輯並發表
```

### 搜尋功能
```
□ 點擊側邊欄「搜尋」
□ 輸入使用者名稱
□ 按 Enter
□ 看到搜尋結果
□ 結果顯示：頭像、姓名、@userId、簡介、統計
□ 輸入 userId 搜尋（例如：amy）
□ 測試大小寫不敏感（Amy、AMY）
□ 在搜尋結果直接點擊「關注」
□ 按鈕變成「正在關注」
□ 點擊使用者進入個人頁面
```

### All/Following Feed
```
□ 確認已關注至少一個使用者
□ 首頁切換到「關注中」標籤
□ 只顯示關注者的貼文
□ 該使用者轉發的貼文也會顯示
□ 切換回「所有貼文」標籤
□ 顯示所有使用者的貼文
```

---

## ⚡ 邊界測試（選測，約 10 分鐘）

### 字符計數邊界
```
□ 輸入剛好 280 字符 → 可以發文
□ 輸入 281 字符 → 按鈕禁用，顯示紅色
□ 輸入連結 + 257 字符 → 剛好 280，可以發文
□ 輸入 #test #hello @amy → 這些都不計入字符數
```

### 權限測試
```
□ 查看別人的貼文 → 沒有刪除選項
□ 查看自己的貼文 → 有刪除選項
□ 點擊自己貼文的轉發按鈕 → 按鈕禁用
□ 查看別人的個人頁面 → 沒有 Likes 標籤
□ 查看自己的個人頁面 → 有 Likes 標籤
```

### 空狀態測試
```
□ 首頁沒有貼文 → 顯示「還沒有任何貼文」
□ Following 標籤沒關注任何人 → 顯示提示
□ 搜尋無結果 → 顯示「找不到符合的使用者」
□ 貼文沒有留言 → 顯示「還沒有任何評論」
```

---

## 📊 測試結果記錄

### 核心功能（10 項）
- [ ] 1. OAuth 登入
- [ ] 2. Session 持久化
- [ ] 3. 發文功能
- [ ] 4. Inline 發文
- [ ] 5. 按讚功能
- [ ] 6. 轉發功能
- [ ] 7. 不能轉發自己的貼文
- [ ] 8. 留言功能
- [ ] 9. Recursive 留言
- [ ] 10. Follow 系統

### Pusher 即時更新（3 項）
- [ ] 11. 即時按讚
- [ ] 12. 即時留言
- [ ] 13. 新貼文通知

### 進階功能（5 項）
- [ ] 14. 個人頁面編輯
- [ ] 15. 查看他人頁面
- [ ] 16. 草稿功能
- [ ] 17. 搜尋功能
- [ ] 18. All/Following Feed

---

## ✅ 測試通過標準

**核心功能：** 10/10 通過  
**Pusher 功能：** 3/3 通過  
**進階功能：** 5/5 通過

**總計：18/18 = 100% ✅**

---

## 🐛 如果測試失敗

### 登入失敗
→ 檢查 `Google登入權限設定.md`

### 資料庫錯誤
→ 檢查 `PostgreSQL設定.md`

### Pusher 不工作
→ 檢查 `.env` 的 Pusher 設定

### 其他錯誤
→ 查看 README.md 的錯誤排除章節

---

**建議：** 先完成核心功能測試，確認都正常後再測試 Pusher 和進階功能。

