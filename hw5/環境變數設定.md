# 🔧 環境變數設定

## 完整的 .env 檔案內容

複製以下內容到你的 `.env` 檔案：

```bash
# ===================================
# Echo - 環境變數設定
# ===================================

# -----------------------------------
# 資料庫設定
# -----------------------------------
# SQLite（開發用）
DATABASE_URL="file:./dev.db"

# PostgreSQL（正式環境）
# DATABASE_URL="postgresql://user:password@localhost:5432/echo"

# -----------------------------------
# NextAuth 設定
# -----------------------------------
NEXTAUTH_URL="http://localhost:3000"
NEXTAUTH_SECRET="your-secret-key-here"  # 執行 openssl rand -base64 32 生成

# -----------------------------------
# OAuth Providers
# -----------------------------------
# Google OAuth
GOOGLE_CLIENT_ID="your-google-client-id"
GOOGLE_CLIENT_SECRET="your-google-client-secret"

# GitHub OAuth（選填）
GITHUB_CLIENT_ID="your-github-client-id"
GITHUB_CLIENT_SECRET="your-github-client-secret"

# Facebook OAuth（選填）
FACEBOOK_CLIENT_ID="your-facebook-app-id"
FACEBOOK_CLIENT_SECRET="your-facebook-app-secret"

# -----------------------------------
# Pusher（即時互動）
# -----------------------------------
NEXT_PUBLIC_PUSHER_APP_KEY="your-pusher-app-key"
NEXT_PUBLIC_PUSHER_CLUSTER="your-pusher-cluster"
PUSHER_APP_ID="your-pusher-app-id"
PUSHER_SECRET="your-pusher-secret"

# -----------------------------------
# Cloudinary（圖片上傳）- 新增！
# -----------------------------------
# 選填：如果要支援圖片上傳到雲端，請設定
# 否則會使用 base64 儲存（僅供開發，不推薦正式環境）
NEXT_PUBLIC_CLOUDINARY_CLOUD_NAME="your-cloudinary-cloud-name"

# 注意事項：
# 1. 需要在 Cloudinary 建立 "echo_preset" unsigned upload preset
# 2. 免費帳號有 25GB 儲存空間
# 3. 詳細設定請參考：圖片上傳設定.md
```

---

## 🆕 新增功能：圖片上傳

### 快速設定（選用）

如果你想要使用者能上傳自己的頭貼和背景圖：

1. **註冊 Cloudinary**（免費）：https://cloudinary.com/
2. **取得 Cloud Name**：在 Dashboard 找到
3. **建立 Upload Preset**：
   - 名稱：`echo_preset`
   - Signing Mode：`Unsigned`
4. **更新 .env**：
   ```bash
   NEXT_PUBLIC_CLOUDINARY_CLOUD_NAME="你的cloud-name"
   ```
5. **重啟伺服器**：`npm run dev`

### 不想設定？

沒問題！不設定 `NEXT_PUBLIC_CLOUDINARY_CLOUD_NAME` 的話，系統會自動使用 base64 儲存圖片（適合開發/作業，但圖片不能太大）。

---

## 📋 環境變數檢查清單

### 必須設定（否則無法運作）

- [ ] `DATABASE_URL` - 資料庫連接
- [ ] `NEXTAUTH_URL` - NextAuth URL
- [ ] `NEXTAUTH_SECRET` - NextAuth 密鑰
- [ ] `GOOGLE_CLIENT_ID` - Google OAuth（至少要有一個 OAuth）
- [ ] `GOOGLE_CLIENT_SECRET`
- [ ] `PUSHER_APP_ID` - Pusher 即時互動
- [ ] `PUSHER_SECRET`
- [ ] `NEXT_PUBLIC_PUSHER_APP_KEY`
- [ ] `NEXT_PUBLIC_PUSHER_CLUSTER`

### 選填（增強功能）

- [ ] `GITHUB_CLIENT_ID` - GitHub 登入
- [ ] `GITHUB_CLIENT_SECRET`
- [ ] `FACEBOOK_CLIENT_ID` - Facebook 登入
- [ ] `FACEBOOK_CLIENT_SECRET`
- [ ] `NEXT_PUBLIC_CLOUDINARY_CLOUD_NAME` - 圖片上傳到雲端

---

## 🚀 Vercel 部署

部署到 Vercel 時，記得在專案設定中加入所有環境變數：

**Settings → Environment Variables → Add**

---

詳細設定說明請參考：
- OAuth 設定：`Google登入權限設定.md`
- Pusher 設定：`PUSHER_SETUP.md`
- 圖片上傳設定：`圖片上傳設定.md` ✨ 新增！

